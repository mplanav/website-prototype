<!-- views/reserva.ejs -->
<div class="bg-white min-h-screen px-6 sm:px-10 md:px-20 py-10">
  <h1 class="section-title text-center mb-10 text-3xl sm:text-4xl font-semibold text-gray-900">
    <%= traducciones.reservaTitulo || 'Reserva tu mesa' %>
  </h1>

  <p class="text-gray-700 max-w-3xl mx-auto mb-12 text-center text-lg sm:text-xl leading-relaxed">
    <%= traducciones.reservaDescripcion || 'Selecciona la fecha y hora de tu reserva. Ten en cuenta que esta es una solicitud, el restaurante confirmará o rechazará tu reserva por email.' %>
  </p>

  <%
    const hoy = new Date();
    const manana = new Date(hoy);
    manana.setDate(hoy.getDate() + 1);
    const mananaISO = manana.toISOString().split('T')[0];
  %>

  <form action="/reserva" method="POST" novalidate class="max-w-lg mx-auto space-y-8 p-8 bg-white shadow-xl rounded-3xl">
    <label for="nombre" class="block text-gray-900 font-semibold text-lg">
      <%= traducciones.reservaNombre || 'Nombre' %>
      <input
        id="nombre"
        type="text"
        name="nombre"
        required
        placeholder="<%= traducciones.reservaNombrePlaceholder || '' %>"
        class="form-input mt-3 w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition"
        aria-required="true"
      />
    </label>

    <label for="email" class="block text-gray-900 font-semibold text-lg">
      <%= traducciones.reservaEmail || 'Email' %>
      <input
        id="email"
        type="email"
        name="email"
        required
        placeholder="<%= traducciones.reservaEmailPlaceholder || '' %>"
        class="form-input mt-3 w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition"
        aria-required="true"
      />
    </label>

    <label for="fecha" class="block text-gray-900 font-semibold text-lg">
      <%= traducciones.reservaFecha || 'Fecha' %>
      <input
        id="fecha"
        type="date"
        name="fecha"
        required
        min="<%= mananaISO %>"
        class="form-input mt-3 w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition"
        aria-required="true"
      />
    </label>

    <label for="hora" class="block text-gray-900 font-semibold text-lg">
      <%= traducciones.reservaHora || 'Hora' %>
      <select
        id="hora"
        name="hora"
        required
        class="form-input mt-3 w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition"
        aria-required="true"
      >
        <% 
          const horarios = [
            "12:00", "12:30", "13:00", "13:30", "14:00",
            "14:30", "15:00", "15:30", "16:00", "16:30",
            "17:00", "17:30", "18:00", "18:30", "19:00",
            "19:30", "20:00", "20:30", "21:00", "21:30"
          ];
          horarios.forEach(hora => { 
        %>
          <option value="<%= hora %>"><%= hora %></option>
        <% }) %>
      </select>
    </label>

    <label for="personas" class="block text-gray-900 font-semibold text-lg">
      <%= traducciones.reservaPersonas || 'Personas' %>
      <input
        id="personas"
        type="number"
        name="personas"
        min="1"
        max="20"
        required
        class="form-input mt-3 w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition"
        aria-required="true"
      />
    </label>

    <label for="peticiones" class="block text-gray-900 font-semibold text-lg">
      <%= traducciones.reservaPeticiones || 'Peticiones especiales (alergias, dietas, etc...)' %>
      <textarea
        id="peticiones"
        name="peticiones"
        rows="3"
        placeholder="<%= traducciones.reservaPeticionesPlaceholder || 'Opcional' %>"
        class="form-input mt-3 w-full p-4 rounded-xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition resize-y"
      ></textarea>
    </label>

    <button
      type="submit"
      class="form-button w-full py-4 text-lg font-semibold bg-indigo-600 text-white rounded-2xl shadow-lg hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-500 transition duration-300"
      aria-label="<%= traducciones.reservaEnviar || 'Enviar reserva' %>"
    >
      <%= traducciones.reservaEnviar || 'Enviar reserva' %>
    </button>
  </form>
</div>
